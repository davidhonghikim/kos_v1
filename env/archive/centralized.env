# =============================================================================
# kOS v1 Centralized Configuration Management
# =============================================================================
# ALL hardcoded values are defined here for easy management and debugging.
# This includes ports, container names, images, passwords, versions, and settings.
# =============================================================================

# =============================================================================
# NETWORK & SYSTEM CONFIGURATION
# =============================================================================
KOS_DEFAULT_HOST=localhost
KOS_CONTAINER_NETWORK=kos-network
KOS_NETWORK_SUBNET=172.20.0.0/16

# =============================================================================
# ADMIN CREDENTIALS (Single password for all services)
# =============================================================================
KOS_ADMIN_EMAIL=admin@kos.local
KOS_ADMIN_PASSWORD=kos30437
KOS_ADMIN_USER=kosadmin

# =============================================================================
# CONTAINER NAMES
# =============================================================================
KOS_APP_CONTAINER_NAME=kos-app
KOS_POSTGRES_CONTAINER_NAME=kos-postgres
KOS_REDIS_CONTAINER_NAME=kos-redis
KOS_ELASTICSEARCH_CONTAINER_NAME=kos-elasticsearch
KOS_NEO4J_CONTAINER_NAME=kos-neo4j
KOS_WEAVIATE_CONTAINER_NAME=kos-weaviate
KOS_MINIO_CONTAINER_NAME=kos-minio
KOS_GRAFANA_CONTAINER_NAME=kos-grafana
KOS_PROMETHEUS_CONTAINER_NAME=kos-prometheus
KOS_CADVISOR_CONTAINER_NAME=kos-cadvisor
KOS_OLLAMA_CONTAINER_NAME=kos-ollama
KOS_OPENWEBUI_CONTAINER_NAME=kos-openwebui
KOS_GITEA_CONTAINER_NAME=kos-gitea
KOS_NEXTCLOUD_CONTAINER_NAME=kos-nextcloud
KOS_ADMIN_PANEL_CONTAINER_NAME=kos-admin-panel
KOS_REGISTRY_CONTAINER_NAME=kos-registry
KOS_NGINX_CONTAINER_NAME=kos-nginx
KOS_AUTOMATIC1111_CONTAINER_NAME=kos-automatic1111
KOS_COMFYUI_CONTAINER_NAME=kos-comfyui
KOS_N8N_CONTAINER_NAME=kos-n8n
KOS_PENPOT_CONTAINER_NAME=kos-penpot
KOS_LANGFUSE_CONTAINER_NAME=kos-langfuse
KOS_CODE_SERVER_CONTAINER_NAME=kos-code-server
KOS_VSCODIUM_CONTAINER_NAME=kos-vscodium
KOS_PGADMIN_CONTAINER_NAME=kos-pgadmin
KOS_REDIS_COMMANDER_CONTAINER_NAME=kos-redis-commander
KOS_MONGO_EXPRESS_CONTAINER_NAME=kos-mongo-express

# =============================================================================
# SERVICE HOSTS
# =============================================================================
KOS_API_HOST=api
KOS_FRONTEND_HOST=frontend
KOS_NGINX_HOST=nginx
KOS_POSTGRES_HOST=postgres
KOS_REDIS_HOST=redis
KOS_NEO4J_HOST=neo4j
KOS_ELASTICSEARCH_HOST=elasticsearch
KOS_WEAVIATE_HOST=weaviate
KOS_MINIO_HOST=minio
KOS_GRAFANA_HOST=grafana
KOS_PROMETHEUS_HOST=prometheus
KOS_CADVISOR_HOST=cadvisor
KOS_OLLAMA_HOST=ollama
KOS_OPENWEBUI_HOST=openwebui
KOS_GITEA_HOST=gitea
KOS_NEXTCLOUD_HOST=nextcloud
KOS_ADMIN_PANEL_HOST=admin_panel
KOS_REGISTRY_HOST=registry
KOS_AUTOMATIC1111_HOST=automatic1111
KOS_COMFYUI_HOST=comfyui
KOS_N8N_HOST=n8n
KOS_PENPOT_HOST=penpot
KOS_LANGFUSE_HOST=langfuse
KOS_CODE_SERVER_HOST=code-server
KOS_VSCODIUM_HOST=vscodium
KOS_PGADMIN_HOST=pgadmin
KOS_REDIS_COMMANDER_HOST=redis_commander
KOS_MONGO_EXPRESS_HOST=mongo_express
KOS_SUPABASE_HOST=supabase
KOS_BROWSERUSE_HOST=browseruse
KOS_HUGGINGFACE_HOST=huggingface
KOS_VAULT_HOST=vault

# =============================================================================
# ALL SERVICE PORTS (External and Internal)
# =============================================================================
# Core Services
KOS_API_EXTERNAL_PORT=8000
KOS_API_INTERNAL_PORT=8000
KOS_FRONTEND_EXTERNAL_PORT=3000
KOS_FRONTEND_INTERNAL_PORT=3000
KOS_NGINX_EXTERNAL_PORT=80
KOS_NGINX_INTERNAL_PORT=80

# Database Services
KOS_POSTGRES_EXTERNAL_PORT=5432
KOS_POSTGRES_INTERNAL_PORT=5432
KOS_REDIS_EXTERNAL_PORT=6379
KOS_REDIS_INTERNAL_PORT=6379
KOS_NEO4J_EXTERNAL_PORT=7687
KOS_NEO4J_INTERNAL_PORT=7687
KOS_NEO4J_HTTP_INTERNAL_PORT=7474

# Development Services
KOS_GITEA_EXTERNAL_PORT=3002
KOS_GITEA_INTERNAL_PORT=3000
KOS_GITEA_SSH_EXTERNAL_PORT=2222
KOS_GITEA_SSH_INTERNAL_PORT=22
KOS_OPENWEBUI_EXTERNAL_PORT=3001
KOS_OPENWEBUI_INTERNAL_PORT=8080
KOS_SUPABASE_EXTERNAL_PORT=54321
KOS_SUPABASE_INTERNAL_PORT=5432
KOS_SUPABASE_STUDIO_EXTERNAL_PORT=3003
KOS_SUPABASE_STUDIO_INTERNAL_PORT=3000
KOS_BROWSERUSE_EXTERNAL_PORT=3004
KOS_BROWSERUSE_INTERNAL_PORT=3000
KOS_LANGFUSE_EXTERNAL_PORT=3005
KOS_LANGFUSE_INTERNAL_PORT=3000
KOS_CODE_SERVER_EXTERNAL_PORT=3006
KOS_CODE_SERVER_INTERNAL_PORT=8080
KOS_VSCODIUM_EXTERNAL_PORT=3009
KOS_VSCODIUM_INTERNAL_PORT=8080

# Monitoring Services
KOS_PROMETHEUS_EXTERNAL_PORT=9090
KOS_PROMETHEUS_INTERNAL_PORT=9090
KOS_GRAFANA_EXTERNAL_PORT=3007
KOS_GRAFANA_INTERNAL_PORT=3000
KOS_CADVISOR_EXTERNAL_PORT=8081
KOS_CADVISOR_INTERNAL_PORT=8081

# Storage Services
KOS_ELASTICSEARCH_EXTERNAL_PORT=9200
KOS_ELASTICSEARCH_INTERNAL_PORT=9200
KOS_ELASTICSEARCH_CLUSTER_EXTERNAL_PORT=9300
KOS_ELASTICSEARCH_CLUSTER_INTERNAL_PORT=9300
KOS_WEAVIATE_EXTERNAL_PORT=8082
KOS_WEAVIATE_INTERNAL_PORT=8080
KOS_MINIO_EXTERNAL_PORT=9000
KOS_MINIO_INTERNAL_PORT=9000
KOS_MINIO_CONSOLE_EXTERNAL_PORT=9001
KOS_MINIO_CONSOLE_INTERNAL_PORT=9001

# Workflow Services
KOS_N8N_EXTERNAL_PORT=5678
KOS_N8N_INTERNAL_PORT=5678
KOS_PENPOT_EXTERNAL_PORT=9002
KOS_PENPOT_INTERNAL_PORT=9002

# Self-Hosted Services
KOS_NEXTCLOUD_EXTERNAL_PORT=8083
KOS_NEXTCLOUD_INTERNAL_PORT=8083
KOS_ADMIN_PANEL_EXTERNAL_PORT=9003
KOS_ADMIN_PANEL_INTERNAL_PORT=9003
KOS_REGISTRY_EXTERNAL_PORT=5000
KOS_REGISTRY_INTERNAL_PORT=5000

# Manager Services
KOS_PROMPT_MANAGER_EXTERNAL_PORT=3008
KOS_PROMPT_MANAGER_INTERNAL_PORT=8000
KOS_ARTIFACT_MANAGER_EXTERNAL_PORT=3009
KOS_ARTIFACT_MANAGER_INTERNAL_PORT=8000

# Security Services
KOS_VAULT_EXTERNAL_PORT=8200
KOS_VAULT_INTERNAL_PORT=8200

# AI/ML Services
KOS_OLLAMA_EXTERNAL_PORT=11434
KOS_OLLAMA_INTERNAL_PORT=11434
KOS_HUGGINGFACE_EXTERNAL_PORT=8084
KOS_HUGGINGFACE_INTERNAL_PORT=8082
KOS_AUTOMATIC1111_EXTERNAL_PORT=7860
KOS_AUTOMATIC1111_INTERNAL_PORT=7860
KOS_COMFYUI_EXTERNAL_PORT=8188
KOS_COMFYUI_INTERNAL_PORT=8188

# Database UI Services
KOS_PGADMIN_EXTERNAL_PORT=5050
KOS_PGADMIN_INTERNAL_PORT=80
KOS_REDIS_COMMANDER_EXTERNAL_PORT=8081
KOS_REDIS_COMMANDER_INTERNAL_PORT=8081
KOS_MONGO_EXPRESS_EXTERNAL_PORT=8082
KOS_MONGO_EXPRESS_INTERNAL_PORT=8081

# =============================================================================
# ALL CONTAINER IMAGES
# =============================================================================
KOS_API_IMAGE=kos-v1-kos-app
KOS_POSTGRES_IMAGE=postgres:15-alpine
KOS_REDIS_IMAGE=redis:7-alpine
KOS_NEO4J_IMAGE=neo4j:5.15
KOS_ELASTICSEARCH_IMAGE=docker.elastic.co/elasticsearch/elasticsearch:8.11.0
KOS_WEAVIATE_IMAGE=semitechnologies/weaviate:1.22.4
KOS_MINIO_IMAGE=minio/minio:RELEASE.2023-11-15T20-43-25Z
KOS_GRAFANA_IMAGE=grafana/grafana:10.2.0
KOS_PROMETHEUS_IMAGE=prom/prometheus:v2.48.0
KOS_CADVISOR_IMAGE=gcr.io/cadvisor/cadvisor:v0.47.2
KOS_OLLAMA_IMAGE=ollama/ollama:0.1.29
KOS_OPENWEBUI_IMAGE=ghcr.io/open-webui/open-webui:v0.1.1156
KOS_GITEA_IMAGE=gitea/gitea:1.21.0
KOS_NEXTCLOUD_IMAGE=nextcloud:25.0.0
KOS_REGISTRY_IMAGE=registry:2.8.2
KOS_NGINX_IMAGE=nginx:alpine
KOS_AUTOMATIC1111_IMAGE=mikeboensel/automatic1111:latest
KOS_COMFYUI_IMAGE=zhangp365/comfyui:latest
KOS_N8N_IMAGE=n8nio/n8n:1.28.0
KOS_PENPOT_IMAGE=penpotapp/frontend:latest
KOS_LANGFUSE_IMAGE=langfuse/langfuse:2
KOS_CODE_SERVER_IMAGE=codercom/code-server:latest
KOS_VSCODIUM_IMAGE=lscr.io/linuxserver/vscodium:latest
KOS_PGADMIN_IMAGE=dpage/pgadmin4:8.4
KOS_REDIS_COMMANDER_IMAGE=rediscommander/redis-commander:latest
KOS_MONGO_EXPRESS_IMAGE=mongo-express:latest
KOS_SUPABASE_IMAGE=supabase/postgres:15.1.0.117
KOS_HUGGINGFACE_IMAGE=huggingface/transformers-pytorch-gpu:latest
KOS_VAULT_IMAGE=hashicorp/vault:1.15.0

# =============================================================================
# KOS-SPECIFIC SERVICES (Our custom services)
# =============================================================================

# =============================================================================
# KOS API SERVICE
# =============================================================================
KOS_API_BCRYPT_ROUNDS=12
KOS_API_DEFAULT_AUDIO_FORMAT=mp3
KOS_API_DEFAULT_CHAT_MAX_TOKENS=2048
KOS_API_DEFAULT_CHAT_MODEL=gemma3:2b
KOS_API_DEFAULT_CHAT_TEMPERATURE=0.7
KOS_API_DEFAULT_IMAGE_SIZE=1024x1024
KOS_API_DEFAULT_WORKFLOW=standard
KOS_API_JWT_ALGORITHM=HS256
KOS_API_JWT_EXPIRATION=3600
KOS_API_JWT_REFRESH_EXPIRATION=86400

# =============================================================================
# KOS PROMPT MANAGER
# =============================================================================
KOS_PROMPT_MANAGER_IMAGE=prompt_manager:latest

# =============================================================================
# KOS ARTIFACT MANAGER
# =============================================================================
KOS_ARTIFACT_MANAGER_IMAGE=artifact_manager:latest

# =============================================================================
# KOS ADMIN PANEL
# =============================================================================
KOS_ADMIN_PANEL_IMAGE=admin_panel:latest

# =============================================================================
# THIRD-PARTY SERVICES
# =============================================================================

# =============================================================================
# POSTGRES DATABASE
# =============================================================================
KOS_POSTGRES_DB=kos_db
KOS_POSTGRES_USER=kos-admin
KOS_POSTGRES_PASSWORD=${KOS_ADMIN_PASSWORD}
KOS_POSTGRES_DISCOVERY_TYPE=single-node
KOS_POSTGRES_INITDB_ARGS=--auth-host=scram-sha-256
KOS_POSTGRES_JAVA_OPTS=-Xms256m -Xmx512m

# =============================================================================
# PGADMIN DATABASE ADMIN
# =============================================================================
KOS_PGADMIN_EMAIL=${KOS_ADMIN_EMAIL}
KOS_PGADMIN_PASSWORD=${KOS_ADMIN_PASSWORD}
KOS_PGADMIN_CONFIG_MASTER_PASSWORD_REQUIRED=False
KOS_PGADMIN_CONFIG_SERVER_MODE=False
KOS_PGADMIN_VOLUME=kos-pgadmin-data

# =============================================================================
# REDIS CACHE
# =============================================================================
KOS_REDIS_PASSWORD=${KOS_ADMIN_PASSWORD}
KOS_REDIS_DB=0
KOS_REDIS_COMMAND=redis-server --appendonly yes

# =============================================================================
# REDIS COMMANDER
# =============================================================================
KOS_REDIS_COMMANDER_USER=kos-admin
KOS_REDIS_COMMANDER_PASSWORD=${KOS_ADMIN_PASSWORD}
KOS_REDIS_COMMANDER_REDIS_HOSTS=local:redis:6379:0:${KOS_ADMIN_PASSWORD}

# =============================================================================
# NEO4J GRAPH DATABASE
# =============================================================================
KOS_NEO4J_USER=kos-admin
KOS_NEO4J_PASSWORD=${KOS_ADMIN_PASSWORD}
KOS_NEO4J_HEAP_INITIAL_SIZE=512m
KOS_NEO4J_HEAP_MAX_SIZE=1G
KOS_NEO4J_PAGECACHE_SIZE=512m
KOS_NEO4J_PLUGINS=apoc,graph-data-science
KOS_NEO4J_PROCEDURES_UNRESTRICTED=gds.*,apoc.*

# =============================================================================
# ELASTICSEARCH SEARCH ENGINE
# =============================================================================
KOS_ELASTICSEARCH_USERNAME=kos-admin
KOS_ELASTICSEARCH_PASSWORD=${KOS_ADMIN_PASSWORD}

# =============================================================================
# WEAVIATE VECTOR DATABASE
# =============================================================================
KOS_WEAVIATE_DEFAULT_VECTORIZER_MODULE=text2vec-transformers
KOS_WEAVIATE_ENABLE_MODULES=text2vec-transformers
KOS_WEAVIATE_CLUSTER_HOSTNAME=node1
KOS_WEAVIATE_PERSISTENCE_DATA_PATH=/var/lib/weaviate
KOS_WEAVIATE_QUERY_DEFAULTS_LIMIT=25

# =============================================================================
# MINIO OBJECT STORAGE
# =============================================================================
KOS_MINIO_ROOT_USER=kos-admin
KOS_MINIO_ROOT_PASSWORD=${KOS_ADMIN_PASSWORD}
KOS_MINIO_COMMAND=server /data --console-address ":9001"
KOS_MINIO_API_PORT=9000

# =============================================================================
# NEXTCLOUD FILE STORAGE
# =============================================================================
KOS_NEXTCLOUD_ADMIN_USER=kos-admin
KOS_NEXTCLOUD_ADMIN_PASSWORD=${KOS_ADMIN_PASSWORD}
KOS_NEXTCLOUD_DB_PASSWORD=${KOS_ADMIN_PASSWORD}

# =============================================================================
# PROMETHEUS METRICS
# =============================================================================
KOS_PROMETHEUS_RETENTION_DAYS=15
KOS_PROMETHEUS_SCRAPE_INTERVAL=15s

# =============================================================================
# GRAFANA DASHBOARDS
# =============================================================================
KOS_GRAFANA_DATASOURCES=prometheus,elasticsearch,postgresql

# =============================================================================
# VAULT SECRETS MANAGEMENT
# =============================================================================
KOS_VAULT_DEV_DISABLE_MLOCK=true
KOS_VAULT_DEV_LISTEN_ADDRESS=0.0.0.0:8200
KOS_VAULT_DEV_ROOT_TOKEN_ID=${KOS_ADMIN_PASSWORD}

# =============================================================================
# OLLAMA LOCAL LLM
# =============================================================================
KOS_OLLAMA_BASE_URL=http://ollama:11434
KOS_OLLAMA_DEFAULT_MODELS=gemma3:2b,llama3.2:3b
KOS_OLLAMA_OPTIONAL_MODELS=codellama:7b,qwen2.5:7b
KOS_OLLAMA_MODELS=/root/.ollama/models
KOS_OLLAMA_ORIGINS=*

# =============================================================================
# OPENWEBUI CHAT INTERFACE
# =============================================================================
KOS_OPENWEBUI_BASE_URL=http://openwebui:8080
KOS_OPENWEBUI_ADMIN_USER=kos-admin
KOS_OPENWEBUI_ADMIN_PASSWORD=${KOS_ADMIN_PASSWORD}
KOS_OPENWEBUI_DEFAULT_MODELS=gemma3:2b,llama3.2:3b
KOS_OPENWEBUI_DEFAULT_USER_ROLE=admin
KOS_OPENWEBUI_FEATURE_FLAGS=chat,models,settings
KOS_OPENWEBUI_THEME=dark

# =============================================================================
# HUGGINGFACE TRANSFORMERS
# =============================================================================
KOS_HUGGINGFACE_HOME=/app/huggingface
KOS_HUGGINGFACE_HUB_OFFLINE=false
KOS_HUGGINGFACE_TRANSFORMERS_CACHE=/app/cache

# =============================================================================
# AUTOMATIC1111 STABLE DIFFUSION
# =============================================================================
KOS_AUTOMATIC1111_COMMANDLINE_ARGS=--listen --port 7860 --enable-insecure-extension-access
KOS_AUTOMATIC1111_REQS_FILE=requirements.txt

# =============================================================================
# GITEA GIT SERVER
# =============================================================================
KOS_GITEA_USER_UID=1000
KOS_GITEA_USER_GID=1000
KOS_GITEA_DB_TYPE=sqlite3
KOS_GITEA_DB_PATH=/data/gitea/gitea.db
KOS_GITEA_HTTP_PORT=3000
KOS_GITEA_DOMAIN=gitea
KOS_GITEA_SSH_DOMAIN=gitea
KOS_GITEA_ROOT_URL=http://gitea:3002/
KOS_GITEA_INSTALL_LOCK=true
KOS_GITEA_LOG_LEVEL=Info
KOS_GITEA_LOG_MODE=console
KOS_GITEA_DISABLE_REGISTRATION=false
KOS_GITEA_DISABLE_SSH=false
KOS_GITEA_REQUIRE_SIGNIN_VIEW=false
KOS_GITEA_ADMIN_EMAIL=${KOS_ADMIN_EMAIL}

# =============================================================================
# N8N WORKFLOW AUTOMATION
# =============================================================================
KOS_N8N_BASIC_AUTH_ACTIVE=false
KOS_N8N_BASIC_AUTH_USER=kos-admin
KOS_N8N_BASIC_AUTH_PASSWORD=${KOS_ADMIN_PASSWORD}
KOS_N8N_PROTOCOL=http
KOS_N8N_TIMEZONE=UTC
KOS_N8N_USER_MANAGEMENT_DISABLED=false
KOS_N8N_WEBHOOK_URL=http://n8n:5678/

# =============================================================================
# PENPOT DESIGN TOOL
# =============================================================================
KOS_PENPOT_DATABASE_URI=postgresql://penpot:penpot@postgres:5432/penpot
KOS_PENPOT_REDIS_URI=redis://redis:6379/0
KOS_PENPOT_PUBLIC_URI=http://penpot:9002

# =============================================================================
# CODE SERVER VSCODE
# =============================================================================
KOS_CODE_SERVER_DISABLE_TELEMETRY=true
KOS_CODE_SERVER_EXTRA_ARGS=--disable-telemetry

# =============================================================================
# MONGO EXPRESS ADMIN
# =============================================================================
KOS_MONGO_EXPRESS_USER=kos-admin
KOS_MONGO_EXPRESS_PASSWORD=${KOS_ADMIN_PASSWORD} 